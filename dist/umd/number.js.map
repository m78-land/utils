{"version":3,"sources":["/Users/lixianjie/project/openSource/utils/src/number.ts"],"sourcesContent":["import { isNumber, isWeakNumber } from \"./is.js\";\n\n/**\n * 获取指定区间内的随机数(双开区间)\n * @param min - 最小值\n * @param max - 最大值\n * @return - 随机数\n *  */\nexport function getRandRange(min: number, max: number) {\n  return Math.round((max - min) * Math.random() + min);\n}\n\n/**\n * 以指定精度锐化浮点数\n * @param num - 待处理的数字\n * @param precision - 1 | 精度\n * @return - 四舍五入到指定进度的小数\n * */\nexport function decimalPrecision(num: number, precision = 1) {\n  const mid = +`1${Array.from({ length: precision })\n    .map(() => \"0\")\n    .join(\"\")}`;\n\n  return Math.round(num * mid) / mid;\n}\n\n/** 将一组数字或类数字相加、非数字视为0 */\nexport function sum(...nums: any[]): number {\n  return nums.reduce((p, i) => {\n    return p + (isWeakNumber(i) ? Number(i) : 0);\n  }, 0);\n}\n\n/** 将一组数字或类数字相减 */\nexport function subtract(...nums): number {\n  return nums.reduce((p, i) => {\n    if (p === null) return i;\n    if (!isWeakNumber(i)) return p;\n    return p - i;\n  }, null);\n}\n\n/** 将弱数字转为数字，数字会原样返回 */\nexport function weakNumber(arg: any) {\n  return isWeakNumber(arg) ? Number(arg) : null;\n}\n\n/** 将数值限定到指定区间 */\nexport function clamp(val, min, max) {\n  if (isNumber(min) && val < min) return min;\n  if (isNumber(max) && val > max) return max;\n  return val;\n}\n"],"names":["getRandRange","decimalPrecision","sum","subtract","weakNumber","clamp","min","max","Math","round","random","num","precision","mid","Array","from","length","map","join","nums","reduce","p","i","isWeakNumber","Number","arg","val","isNumber"],"mappings":"AAAA;mGAAuC,SAAS;;;QAAT,SAAS;;;;;;;;;;;;;;;QAQhCA,YAAY;mBAAZA,YAAY;;QAUZC,gBAAgB;mBAAhBA,gBAAgB;;QAShBC,GAAG;mBAAHA,GAAG;;QAOHC,QAAQ;mBAARA,QAAQ;;QASRC,UAAU;mBAAVA,UAAU;;QAKVC,KAAK;mBAALA,KAAK;;;IAxCd,SAASL,YAAY,CAACM,GAAW,EAAEC,GAAW,EAAE;QACrD,OAAOC,IAAI,CAACC,KAAK,CAAC,CAACF,GAAG,GAAGD,GAAG,CAAC,GAAGE,IAAI,CAACE,MAAM,EAAE,GAAGJ,GAAG,CAAC,CAAC;KACtD;IAQM,SAASL,gBAAgB,CAACU,GAAW,EAAiB;YAAfC,SAAS,GAATA,+CAAa,kBAAD,CAAC;QACzD,IAAMC,GAAG,GAAG,CAAC,AAAC,GAAC,CAEH,MAAA,CAFKC,KAAK,CAACC,IAAI,CAAC;YAAEC,MAAM,EAAEJ,SAAS;SAAE,CAAC,CAC/CK,GAAG,CAAC;mBAAM,GAAG;SAAA,CAAC,CACdC,IAAI,CAAC,EAAE,CAAC,CAAE,AAAC;QAEd,OAAOV,IAAI,CAACC,KAAK,CAACE,GAAG,GAAGE,GAAG,CAAC,GAAGA,GAAG,CAAC;KACpC;IAGM,SAASX,GAAG,GAAyB;QAAxB,IAAA,IAAA,IAAc,GAAd,SAAc,CAAd,MAAc,EAAd,AAAGiB,IAAI,GAAP,UAAA,IAAc,CAAA,EAAd,IAAc,GAAd,CAAc,EAAd,IAAc,GAAd,IAAc,EAAd,IAAc,EAAA,CAAd;YAAA,AAAGA,IAAI,CAAP,IAAc,IAAd,SAAc,AAAd,CAAA,IAAc,CAAA,CAAA;SAAA;QAChC,OAAOA,IAAI,CAACC,MAAM,CAAC,SAACC,CAAC,EAAEC,CAAC,EAAK;YAC3B,OAAOD,CAAC,GAAG,CAACE,IAAAA,KAAY,aAAA,EAACD,CAAC,CAAC,GAAGE,MAAM,CAACF,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;SAC9C,EAAE,CAAC,CAAC,CAAC;KACP;IAGM,SAASnB,QAAQ,GAAkB;QAAjB,IAAA,IAAA,IAAO,GAAP,SAAO,CAAP,MAAO,EAAP,AAAGgB,IAAI,GAAP,UAAA,IAAO,CAAA,EAAP,IAAO,GAAP,CAAO,EAAP,IAAO,GAAP,IAAO,EAAP,IAAO,EAAA,CAAP;YAAA,AAAGA,IAAI,CAAP,IAAO,IAAP,SAAO,AAAP,CAAA,IAAO,CAAA,CAAA;SAAA;QAC9B,OAAOA,IAAI,CAACC,MAAM,CAAC,SAACC,CAAC,EAAEC,CAAC,EAAK;YAC3B,IAAID,CAAC,KAAK,IAAI,EAAE,OAAOC,CAAC,CAAC;YACzB,IAAI,CAACC,IAAAA,KAAY,aAAA,EAACD,CAAC,CAAC,EAAE,OAAOD,CAAC,CAAC;YAC/B,OAAOA,CAAC,GAAGC,CAAC,CAAC;SACd,EAAE,IAAI,CAAC,CAAC;KACV;IAGM,SAASlB,UAAU,CAACqB,GAAQ,EAAE;QACnC,OAAOF,IAAAA,KAAY,aAAA,EAACE,GAAG,CAAC,GAAGD,MAAM,CAACC,GAAG,CAAC,GAAG,IAAI,CAAC;KAC/C;IAGM,SAASpB,KAAK,CAACqB,GAAG,EAAEpB,GAAG,EAAEC,GAAG,EAAE;QACnC,IAAIoB,IAAAA,KAAQ,SAAA,EAACrB,GAAG,CAAC,IAAIoB,GAAG,GAAGpB,GAAG,EAAE,OAAOA,GAAG,CAAC;QAC3C,IAAIqB,IAAAA,KAAQ,SAAA,EAACpB,GAAG,CAAC,IAAImB,GAAG,GAAGnB,GAAG,EAAE,OAAOA,GAAG,CAAC;QAC3C,OAAOmB,GAAG,CAAC;KACZ"}