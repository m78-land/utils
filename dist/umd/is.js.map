{"version":3,"sources":["/Users/lixianjie/project/openSource/utils/src/is.ts"],"sourcesContent":["import { AnyFunction } from \"./common-type\";\n\ntype Primitive = null | undefined | boolean | number | string | symbol;\n\n/**\n * 获取表示对象原始类型的字符串\n * @param {*} o - 需要查询的字符\n *  @returns {string}\n * */\nexport function getProtoStr(o) {\n  return Object.prototype.toString.call(o);\n}\n\n/** 检测是否为数组 */\nexport function isArray(arg: any): arg is any[] {\n  if (Array.isArray) {\n    return Array.isArray(arg);\n  }\n  return getProtoStr(arg) === \"[object Array]\";\n}\n\n/** 数值且包含至少一项 */\nexport function isTruthyArray<T = any>(arg: any): arg is T[] {\n  if (!isArray(arg)) return false;\n  return arg.length !== 0;\n}\n\n/**\n * 检测是否为数字且非NAN\n * @param {*} arg - 需待查询的对象\n * @returns {boolean}\n * */\nexport function isNumber(arg: any): arg is number {\n  return typeof arg === \"number\" && !isNaN(arg);\n}\n\nexport function isWeakNumber(arg) {\n  return isNumber(Number(arg));\n}\n\n/** 检测是否为字符串  */\nexport function isString(arg: any): arg is string {\n  return typeof arg === \"string\";\n}\n\n/** 检测是否为整数 */\nexport function isInt(value: any): value is number {\n  if (isNaN(value) || isString(value)) {\n    return false;\n  }\n  const x = parseFloat(value);\n  return (x | 0) === x;\n}\n\n/**\n * 检测是否为symbol\n * @param {*} arg - 需待查询的对象\n * @returns {boolean}\n * */\nexport function isSymbol(arg: any): arg is symbol {\n  return typeof arg === \"symbol\";\n}\n\n/** 检测是不是原始类型, null、string、boolean、number、symbol、undefined */\nexport function isPrimitive(arg: any): arg is Primitive {\n  return (\n    arg === null ||\n    typeof arg === \"boolean\" ||\n    typeof arg === \"number\" ||\n    typeof arg === \"string\" ||\n    typeof arg === \"symbol\" || // ES6 symbol\n    typeof arg === \"undefined\"\n  );\n}\n\n/**\n * 检测是否为Error对象\n * @param {*} e - 需待查询的对象\n * @returns {boolean}\n * */\nexport function isError(e: any): e is Error {\n  return getProtoStr(e) === \"[object Error]\" || e instanceof Error;\n}\n\n/**\n * 检测是否为对象\n * @param {*} arg - 需待查询的对象\n * @returns {boolean}\n * */\nexport function isObject(arg: any): arg is Object {\n  return getProtoStr(arg) === \"[object Object]\";\n}\n\n/**\n * 检测是否为DOM\n * @param {*} o - 需待查询的对象\n * @returns {boolean}\n * */\nexport function isDom(o: any): o is Node {\n  if (!o) {\n    return false;\n  }\n\n  if (!o.querySelectorAll || !o.querySelector) {\n    return false;\n  }\n\n  if (isObject(document) && o === document) {\n    return true;\n  }\n\n  if (typeof HTMLElement === \"object\") {\n    return o instanceof HTMLElement;\n  } else {\n    return (\n      o &&\n      typeof o === \"object\" &&\n      o.nodeType === 1 &&\n      typeof o.nodeName === \"string\"\n    );\n  }\n}\n\n/**\n * 检测是否为正则\n * @param {*} arg - 需待查询的对象\n * @returns {boolean}\n * */\nexport function isRegExp(arg: any): arg is RegExp {\n  return getProtoStr(arg) === \"[object RegExp]\";\n}\n\n/**\n * 检测是否为数组\n * @param {*} arg - 需待查询的对象\n * @returns {boolean}\n * */\nexport function isFunction(arg: any): arg is AnyFunction {\n  return typeof arg === \"function\";\n}\n\n/** 检测是否为日期对象 */\nexport function isDate(d: any): d is Date {\n  return getProtoStr(d) === \"[object Date]\";\n}\n\n/** 检测是否为布尔值 */\nexport function isBoolean(arg: any): arg is boolean {\n  return typeof arg === \"boolean\";\n}\n\n/** 检测是否为Null */\nexport function isNull(arg: any): arg is null {\n  return arg === null;\n}\n\n/** 检测是否为undefined */\nexport function isUndefined(arg: any): arg is undefined {\n  return arg === void 0;\n}\n\n/** 检测是否为null/undefined  */\nexport function isNullOrUndefined(arg: any): arg is null | undefined {\n  return arg == null;\n}\n\n/** 检测传入对象是否为: undefined、null、''、NaN */\nexport function isTrueEmpty(obj: any): boolean {\n  if (obj === undefined || obj === null || obj === \"\") return true;\n  return isNumber(obj) && isNaN(obj);\n}\n\n/* 检测传入对象是否为: undefined, null ,'', NaN, [], {}, 0, false  */\nexport function isEmpty(obj: any): boolean {\n  if (isTrueEmpty(obj)) return true;\n  if (isRegExp(obj)) {\n    return false;\n  } else if (isDate(obj)) {\n    return false;\n  } else if (isError(obj)) {\n    return false;\n  } else if (isArray(obj)) {\n    return obj.length === 0;\n  } else if (isString(obj)) {\n    return obj.length === 0;\n  } else if (isNumber(obj)) {\n    return obj === 0;\n  } else if (isBoolean(obj)) {\n    return !obj;\n  } else if (isObject(obj)) {\n    for (const key in obj) {\n      return false;\n    }\n    return true;\n  }\n  return false;\n}\n\n/** 如果入参为truthy或0则返回true，否则返回false */\nexport function isTruthyOrZero(arg: any): boolean {\n  return !!arg || arg === 0;\n}\n"],"names":["getProtoStr","isArray","isTruthyArray","isNumber","isWeakNumber","isString","isInt","isSymbol","isPrimitive","isError","isObject","isDom","isRegExp","isFunction","isDate","isBoolean","isNull","isUndefined","isNullOrUndefined","isTrueEmpty","isEmpty","isTruthyOrZero","o","Object","prototype","toString","call","arg","Array","length","isNaN","Number","value","x","parseFloat","e","Error","querySelectorAll","querySelector","document","HTMLElement","nodeType","nodeName","d","obj","undefined","key"],"mappings":"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"}