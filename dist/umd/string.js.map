{"version":3,"sources":["/Users/lixianjie/project/openSource/utils/src/string.ts"],"sourcesContent":["/**\n * 替换html字符中的标签为指定字符\n * @param str - html文本\n * @param val - '' | 替换后的值\n * @return - 替换标签后的文本\n * */\nexport function replaceHtmlTags(str = \"\", val = \"\") {\n  const reg = /(<\\/?.+?\\/?>|&nbsp;|&mdash;)/g;\n  return str.replace(reg, val);\n}\n\n/**\n *  生成一段随机字符\n *  @param number - 随机串的长度倍数，默认1倍，随机字符长度为10为\n *  @return string\n *  */\nexport function createRandString(number = 1): string {\n  return Array.from({ length: number }).reduce((prev) => {\n    return prev + Math.random().toString(36).slice(2);\n  }, \"\") as string;\n}\n\ninterface Byte2Text {\n  (byte: number, conf?: { precision: number }): string;\n\n  KB: number;\n  MB: number;\n  GB: number;\n  TB: number;\n}\n\nconst KB = 1024;\nconst MB = KB * 1024;\nconst GB = MB * 1024;\nconst TB = GB * 1024;\nconst byte2textDefaultConfig = {\n  precision: 1,\n};\n\n/**\n * 将字节转为适合人类阅读的字符串\n * @param byte - 待转换的字节\n * @param conf - 其他配置\n * @param conf.precision - 1 | 小数精度\n * @return - 用于展示的字符串\n * */\nexport const byte2text: Byte2Text = (byte, conf) => {\n  const cf = {\n    ...byte2textDefaultConfig,\n    ...conf,\n  };\n\n  let s = \"\";\n\n  if (byte >= TB) {\n    s = `${(byte / TB).toFixed(cf.precision)}T`;\n  } else if (byte >= GB) {\n    s = `${(byte / GB).toFixed(cf.precision)}G`;\n  } else if (byte >= MB) {\n    s = `${(byte / MB).toFixed(cf.precision)}M`;\n  } else {\n    s = `${(byte / KB).toFixed(cf.precision)}K`;\n  }\n\n  return s;\n};\n\nbyte2text.KB = KB;\nbyte2text.MB = MB;\nbyte2text.GB = GB;\nbyte2text.TB = TB;\n\nconst heightLightMatchStringDefaultConf = {\n  color: \"#F83D48\",\n};\n\n/**\n * 以指定的模式通过转html文本高亮字符中的所有被匹配字符\n * @param str - 目标字符串\n * @param regExp - 可以被new RegExp()接收的正则字符串或正则表达式\n * @param conf - 其他配置\n * @param conf.color - '#F83D48' | 高亮颜色\n * @return - 附加了html高亮标签的字符串\n * @example\n console.log(heightLightMatchString('你好吗，我很好。', '好'));\n console.log(heightLightMatchString('你好吗，我很好。', /好/));\n\n // 以上使用均输出:\n // => 你<span style=\"color: #F83D48\">好</span>吗，我很<span style=\"color: #F83D48\">好</span>。\n * */\nexport function heightLightMatchString(\n  str: string,\n  regExp: string | RegExp,\n  conf?: { color?: string }\n) {\n  if (!str || !regExp) return str || \"\";\n  const cf = {\n    ...heightLightMatchStringDefaultConf,\n    ...conf,\n  };\n\n  const reg = new RegExp(regExp, \"g\");\n\n  return str.replace(reg, (s) => {\n    return `<span style=\"color: ${cf.color}\">${s}</span>`;\n  });\n}\n\n/** get string first part. like YYYY-MM-DD hh:mm:ss to YYYY-MM-DD */\nexport function getStringFirst(string = \"\", separator = \" \") {\n  if (!string) return \"\";\n  return string.split(separator)[0];\n}\n\n/** get string last part. like YYYY-MM-DD hh:mm:ss to hh:mm:ss */\nexport function getStringLast(string = \"\", separator = \" \") {\n  if (!string) return \"\";\n  const ls = string.split(separator);\n  return ls[ls.length - 1];\n}\n"],"names":["replaceHtmlTags","createRandString","byte2text","heightLightMatchString","getStringFirst","getStringLast","str","val","reg","replace","number","Array","from","length","reduce","prev","Math","random","toString","slice","KB","MB","GB","TB","byte2textDefaultConfig","precision","byte","conf","cf","s","toFixed","heightLightMatchStringDefaultConf","color","regExp","RegExp","string","separator","split","ls"],"mappings":"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"}